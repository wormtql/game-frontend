(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],u=0,h=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},o={app:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"204c":function(e,t,a){},"52ac":function(e,t,a){"use strict";var n=a("204c"),o=a.n(n);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view")],1)},r=[],s={name:"App",components:{},data:function(){return{}}},i=s,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),h=Object(c["a"])(i,o,r,!1,null,null,null),p=h.exports;d()(h,{VApp:u["a"]});var v=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{height:96,color:"primary",dark:""}},[a("v-spacer"),a("span",{staticClass:"me-4"},[e._v(e._s(e.live?"Hello, "+e.username:"未登录"))]),e.live?e._e():a("v-btn",{attrs:{color:"accent"},on:{click:e.loginOrSignUp}},[e._v("去登录/注册")]),e.live?a("v-btn",{attrs:{color:"accent"},on:{click:e.logout}},[e._v("退出登录")]):e._e(),a("v-spacer")],1),a("v-content",{staticStyle:{padding:"24px 96px"}},[a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[e._v("Hex")]),a("v-card-subtitle",[e._v("海克斯")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.navigateTo("/intro/hex")}}},[a("v-icon",[e._v("mdi-launch")])],1)],1)],1)],1),a("v-col",[a("v-card",[a("v-card-title",[e._v("Five In a Row")]),a("v-card-subtitle",[e._v("五子棋")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{icon:"",color:"primary"}},[a("v-icon",[e._v("mdi-launch")])],1)],1)],1)],1),a("v-col",[a("v-card",[a("v-card-title",[e._v("Hex")])],1)],1)],1)],1)],1)},f=[],g=a("d4ec"),b=a("bee2"),y=function(){function e(){Object(g["a"])(this,e),this.buf={}}return Object(b["a"])(e,[{key:"get",value:function(e){return this.buf[e]}},{key:"set",value:function(e,t){this.buf[e]=t}},{key:"containsKey",value:function(e){return void 0!==this.buf[e]}},{key:"remove",value:function(e){this.buf[e]=void 0}}]),e}(),w=new y,k={name:"HomePage",data:function(){return{live:!1,username:""}},created:function(){w.containsKey("auth")?(this.live=!0,this.username=w.get("username")):this.live=!1},methods:{loginOrSignUp:function(){this.$router.push({name:"los",params:{redirect:"/"}})},logout:function(){w.remove("auth"),w.remove("username"),this.live=!1,this.username=""},navigateTo:function(e){this.$router.push(e)}}},x=k,_=a("40dc"),P=a("8336"),S=a("b0af"),U=a("99d9"),C=a("62ad"),O=a("a75b"),V=a("ce7e"),$=a("132d"),j=a("0fd9"),z=a("2fa4"),E=Object(c["a"])(x,m,f,!1,null,"90121352",null),T=E.exports;d()(E,{VAppBar:_["a"],VBtn:P["a"],VCard:S["a"],VCardActions:U["a"],VCardSubtitle:U["b"],VCardTitle:U["d"],VCol:C["a"],VContent:O["a"],VDivider:V["a"],VIcon:$["a"],VRow:j["a"],VSpacer:z["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",{staticStyle:{padding:"64px 0"}},[a("v-snackbar",{model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[e._v(e._s(e.snackbarText))]),a("v-row",{attrs:{justify:"center"}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:"login"===e.which,expression:"which === 'login'"}],attrs:{width:"400px"}},[a("v-card-title",[e._v("登录")]),a("v-card-text",[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"mdi-account"},model:{value:e.loginUsername,callback:function(t){e.loginUsername=t},expression:"loginUsername"}}),a("v-text-field",{attrs:{label:"密码","prepend-icon":"mdi-lock",type:"password"},model:{value:e.loginPassword,callback:function(t){e.loginPassword=t},expression:"loginPassword"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",loading:e.loginLoading},on:{click:e.login}},[e._v("登录")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.sw}},[e._v("去注册")])],1)],1),a("v-card",{directives:[{name:"show",rawName:"v-show",value:"signUp"===e.which,expression:"which === 'signUp'"}],attrs:{width:"400px"}},[a("v-card-title",[e._v("注册")]),a("v-card-text",[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"mdi-account"},model:{value:e.signUpUsername,callback:function(t){e.signUpUsername=t},expression:"signUpUsername"}}),a("v-text-field",{attrs:{label:"密码","prepend-icon":"mdi-lock",type:"password"},model:{value:e.signUpPassword,callback:function(t){e.signUpPassword=t},expression:"signUpPassword"}}),a("v-text-field",{attrs:{label:"确认密码","prepend-icon":"mdi-lock",type:"password"},model:{value:e.signUpConfirmPassword,callback:function(t){e.signUpConfirmPassword=t},expression:"signUpConfirmPassword"}}),a("v-checkbox",{attrs:{label:"直接登录"},model:{value:e.signUpLogin,callback:function(t){e.signUpLogin=t},expression:"signUpLogin"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",loading:e.signUpLoading},on:{click:e.signUp}},[e._v("注册")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.sw}},[e._v("去登录")])],1)],1)],1)],1)},H=[],L=(a("99af"),a("ac1f"),a("5319"),a("bc3a")),N=a.n(L),R={url:"http://118.178.121.25:8080/",wsUrl:"ws://118.178.121.25:8080/"},A={name:"LoginSignUpPage",data:function(){return{which:"login",loginUsername:"",loginPassword:"",signUpUsername:"",signUpPassword:"",signUpConfirmPassword:"",signUpLogin:!1,loginLoading:!1,signUpLoading:!1,showSnackbar:!1,snackbarText:""}},methods:{sw:function(){"login"===this.which?this.which="signUp":this.which="login"},displaySnackbar:function(e){this.snackbarText=e,this.showSnackbar=!0},login:function(){var e=this,t={username:this.loginUsername,password:this.loginPassword};this.loginLoading=!0,N.a.post("".concat(R.url,"api/user/login"),t).then((function(t){if(200===t.status&&200===t.data.status){var a=t.headers.authorization;w.set("auth",a),w.set("username",e.loginUsername),e.$router.replace(e.$route.params.redirect||"/")}else e.displaySnackbar(t.data.message||"错误");e.loginLoading=!1}))},signUp:function(){var e=this,t={username:this.signUpUsername,password:this.signUpPassword,confirmPassword:this.signUpConfirmPassword};this.signUpLoading=!0,N.a.post("".concat(R.url,"api/user/sign-up?login=").concat(this.signUpLogin),t).then((function(t){if(200===t.status&&200===t.data.status)if(e.signUpLogin){var a=t.headers.authorization;w.set("auth",a),w.set("username",e.signUpUsername),e.$router.replace(e.$route.params.redirect||"/")}else e.displaySnackbar("注册成功"),e.sw();else e.displaySnackbar(t.data.message||"错误");e.signUpLoading=!1}))}}},B=A,M=a("ac7c"),J=a("2db4"),G=a("8654"),W=Object(c["a"])(B,I,H,!1,null,"2049c2fc",null),F=W.exports;d()(W,{VBtn:P["a"],VCard:S["a"],VCardActions:U["a"],VCardText:U["c"],VCardTitle:U["d"],VCheckbox:M["a"],VContent:O["a"],VRow:j["a"],VSnackbar:J["a"],VSpacer:z["a"],VTextField:G["a"]});var q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",{staticStyle:{padding:"64px 300px"}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.toHome}},[a("v-icon",[e._v("mdi-keyboard-backspace")]),e._v(" 返回 ")],1),a(e.comp,{tag:"component",staticClass:"mb-4 mt-4"}),a("v-btn",{attrs:{color:"primary"},on:{click:e.beginGame}},[e._v(" 开始游戏 ")])],1)},K=[],X=(a("fb6a"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("HEX 海克斯棋")]),e._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias asperiores aspernatur beatae debitis dolorem dolorum eum, hic impedit laborum neque nobis non obcaecati odio quaerat quos soluta sunt voluptate. Facere? ")])}],Q={name:"HexIntro"},Y=Q,Z=Object(c["a"])(Y,X,D,!1,null,"27dbf4b8",null),ee=Z.exports,te={name:"GameIntroPage",components:{HexIntro:ee},data:function(){return{type:"",comp:""}},created:function(){this.type=this.$route.params.type,this.comp=this.type.charAt(0).toUpperCase()+this.type.slice(1)+"Intro"},methods:{beginGame:function(){w.containsKey("auth")?this.$router.replace({name:"starting",params:{type:this.type}}):this.$router.push({name:"los",params:{redirect:"/intro/"+this.type}})},toHome:function(){this.$router.replace("/")}}},ae=te,ne=Object(c["a"])(ae,q,K,!1,null,"53a98871",null),oe=ne.exports;d()(ne,{VBtn:P["a"],VContent:O["a"],VIcon:$["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-snackbar",{model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")]),a("v-row",{attrs:{justify:"center"}},[a("div",{staticStyle:{width:"400px",padding:"64px 0"}},[a("h1",[e._v("开始")]),a("v-combobox",{attrs:{label:"类型",items:e.items},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),a("v-radio-group",{attrs:{row:""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("v-radio",{attrs:{label:"加入房间",value:0}}),a("v-radio",{attrs:{label:"创建房间",value:1}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.select,expression:"select === 1"}]},[a("v-checkbox",{attrs:{label:"使用密码"},model:{value:e.usePassword,callback:function(t){e.usePassword=t},expression:"usePassword"}}),a("v-text-field",{attrs:{label:"密码",disabled:!e.usePassword},model:{value:e.createPassword,callback:function(t){e.createPassword=t},expression:"createPassword"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.select,expression:"select === 0"}]},[a("v-text-field",{attrs:{label:"房间号"},model:{value:e.roomId,callback:function(t){e.roomId=e._n(t)},expression:"roomId"}}),a("v-text-field",{attrs:{label:"密码",hint:"如果没有密码,该项不填"},model:{value:e.joinPassword,callback:function(t){e.joinPassword=t},expression:"joinPassword"}})],1),a("v-btn",{staticClass:"mt-4",attrs:{color:"primary",loading:e.loading},on:{click:e.confirm}},[e._v(" 确定 ")])],1)])],1)},se=[],ie={name:"BeginGamePage",data:function(){return{select:0,usePassword:!1,joinPassword:"",createPassword:"",roomId:0,type:"hex",items:["hex","five_in_a_row"],loading:!1,showSnackbar:!1,snackbarText:""}},created:function(){this.type=this.$route.params.type},methods:{displayError:function(e){var t=this;this.snackbarText=e,this.showSnackbar=!0,setTimeout((function(){t.showSnackbar=!1}),3e3)},confirm:function(){if(this.loading=!0,0===this.select){var e=this,t=new WebSocket("".concat(R.wsUrl,"websocket"));t.onopen=function(){t.send(JSON.stringify({command:"join",roomId:e.roomId,token:w.get("auth"),password:e.joinPassword}))},t.onmessage=function(a){window.console.log(a);var n=JSON.parse(a.data);"room_id"===n.command?(w.set("roomId",n.id),w.set("sock",t),e.$router.replace("/play/hex")):"error"===n.command&&(e.loading=!1,t.close(),e.displayError(n.message))},t.onclose=function(){window.console.log("close")}}else if(1===this.select){var a=new WebSocket("".concat(R.wsUrl,"websocket")),n=this;a.onopen=function(){a.send(JSON.stringify({command:"create",token:w.get("auth"),type:n.type,password:n.usePassword?n.createPassword:""}))},a.onmessage=function(e){window.console.log(e);var t=JSON.parse(e.data);"room_id"===t.command?(w.set("roomId",t.id),w.set("sock",a),n.$router.replace("/play/hex")):"error"===t.command&&(n.loading=!1,a.close(),n.displayError(t.message))},a.onclose=function(){window.console.log("socket close")}}}}},ce=ie,le=a("2b5d"),de=a("67b6"),ue=a("43a6"),he=Object(c["a"])(ce,re,se,!1,null,"69424a7e",null),pe=he.exports;d()(he,{VBtn:P["a"],VCheckbox:M["a"],VCombobox:le["a"],VContent:O["a"],VRadio:de["a"],VRadioGroup:ue["a"],VRow:j["a"],VSnackbar:J["a"],VTextField:G["a"]});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-snackbar",{model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")]),a("div",{staticStyle:{position:"fixed",left:"64px",top:"64px"}},[a("h2",{style:e.style2},[e._v(e._s(""===e.anotherPlayer?"等待玩家":e.anotherPlayer))]),a("span",[e._v(e._s(e.ready2?"已准备":"未准备"))])]),a("div",{staticStyle:{position:"fixed",left:"64px",bottom:"64px"}},[a("h2",{style:e.style1},[e._v(e._s(e.username+"(自己)"))]),a("span",[e._v(e._s(e.ready1?"已准备":"未准备"))])]),a("div",{staticClass:"myclass",staticStyle:{position:"fixed",right:"64px",top:"64px"}},[a("h2",{staticStyle:{color:"gray"}},[e._v("房间号:"+e._s(e.roomId))])]),a("div",{staticStyle:{position:"fixed",bottom:"64px",left:"50%",transform:"translateX(-50%)"}},[a("v-btn",{attrs:{color:"primary",text:"",disabled:!e.enabledExit},on:{click:e.onExit}},[a("v-icon",[e._v("mdi-exit-to-app")]),e._v(" 退出 ")],1),a("v-btn",{attrs:{color:"primary",text:"",disabled:!e.enabledSurrender},on:{click:e.onSurrender}},[a("v-icon",[e._v("mdi-flag")]),e._v(" 投降 ")],1),a("v-btn",{attrs:{color:"primary",text:"",disabled:!e.enabledReady},on:{click:e.ready}},[a("v-icon",[e._v("mdi-check")]),e._v(" 准备 ")],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.gameOverMessage,expression:"gameOverMessage !== ''"}],staticStyle:{position:"fixed",top:"64px",left:"50%",transform:"translateX(-50%)"}},[a("h2",[e._v(e._s("win"===e.gameOverMessage?"你赢了":"你输了"))])]),a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center","no-gutters":""}},[a("hex-board",{ref:"board",attrs:{enabled:e.enabled,single:e.role},on:{play:e.onPlay}})],1)],1)],1)},me=[],fe=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("svg",{attrs:{width:e.totalWidth,height:e.totalHeight}},[e._l(e.size,(function(t){return e._l(e.size,(function(n){return a("polygon",{key:"pg"+t+"-"+n,staticClass:"grid",attrs:{points:e.pointsOfOrigin.apply(void 0,e.origin(t-1,n-1)),stroke:"red",fill:e.gridColor(t-1,n-1)},on:{mouseenter:function(a){return e.onMouseEnter(t-1,n-1)},mouseleave:function(a){return e.$set(e.hover[t-1],n-1,!1)},click:function(a){return e.play(t-1,n-1)}}})}))})),a("polyline",{attrs:{points:e.linePointsRed1,stroke:e.redColor,fill:"none","stroke-width":"5"}}),a("polyline",{attrs:{points:e.linePointsRed2,stroke:e.redColor,fill:"none","stroke-width":"5"}}),a("polyline",{attrs:{points:e.linePointsBlue1,stroke:e.blueColor,fill:"none","stroke-width":"5"}}),a("polyline",{attrs:{points:e.linePointsBlue2,stroke:e.blueColor,fill:"none","stroke-width":"5"}})],2)])}),ge=[],be=(a("d81d"),a("a9e3"),{name:"HexBoard",props:{size:{type:Number,default:11},r:{type:Number,default:20},value:{type:Array,default:function(){var e=this;return Array.apply(null,{length:this.size}).map((function(){return Array.apply(null,{length:e.size}).map((function(){return 0}))}))}},enabled:{type:Boolean,default:!0},single:{type:Number}},data:function(){var e=this;return{state:Array.apply(null,{length:this.size}).map((function(){return Array.apply(null,{length:e.size}).map((function(){return 0}))})),hover:Array.apply(null,{length:this.size}).map((function(){return Array.apply(null,{length:e.size}).map((function(){return!1}))})),redColor:"#ff123455",blueColor:"#1234ff55",toPlay:1}},methods:{clear:function(){for(var e=0;e<this.size;e++)for(var t=0;t<this.size;t++)this.state[e][t]=0},onMouseEnter:function(e,t){this.enabled&&this.$set(this.hover[e],t,!0)},origin:function(e,t){var a=(1.5*e+1)*this.r+24,n=this.totalHeight/2+.866*e*this.r;return[a+1.5*t*this.r,n-.866*t*this.r]},pointsOfOrigin:function(e,t){var a=this.r/2,n=.866*this.r,o="";return o+="".concat(e-this.r," ").concat(t,","),o+="".concat(e-a," ").concat(t-n,","),o+="".concat(e+a," ").concat(t-n,","),o+="".concat(e+this.r," ").concat(t,","),o+="".concat(e+a," ").concat(t+n,","),o+="".concat(e-a," ").concat(t+n),o},gridColor:function(e,t){return 1===this.state[e][t]?this.redColor:2===this.state[e][t]?this.blueColor:this.hover[e][t]?this.single?1===this.single?this.redColor:this.blueColor:1===this.toPlay?this.redColor:this.blueColor:"white"},play:function(e,t){0===this.state[e][t]&&this.enabled&&(this.single?(this.$set(this.state[e],t,this.single),this.$emit("play",e,t,this.single)):(this.$set(this.state[e],t,this.toPlay),this.$emit("play",e,t,this.toPlay),this.toPlay=3-this.toPlay))},setGrid:function(e,t,a){this.$set(this.state[e],t,a)}},computed:{totalHeight:function(){return 2*this.size*this.r*.866+48},totalWidth:function(){return(3*this.size-1)*this.r+48},linePointsRed1:function(){for(var e=this.totalHeight/2,t=24,a="",n=0;n<this.size;n++)a+="".concat(1.5*n*this.r+t," ").concat(e-.866*n*this.r,","),a+="".concat((1.5*n+.5)*this.r+t," ").concat(e-.866*(n+1)*this.r,",");return a+="".concat((1.5*this.size-.5)*this.r+t," ").concat(e-.866*this.size*this.r),a},linePointsRed2:function(){for(var e=this.totalWidth-24,t=this.totalHeight/2,a="",n=0;n<this.size;n++)a+="".concat(e-1.5*n*this.r," ").concat(t+.866*n*this.r,","),a+="".concat(e-(1.5*n+.5)*this.r," ").concat(t+.866*(n+1)*this.r,",");return a+="".concat(e-(1.5*this.size-.5)*this.r," ").concat(t+.866*this.size*this.r),a},linePointsBlue1:function(){for(var e=this.totalHeight/2,t=24,a="",n=0;n<this.size;n++)a+="".concat(1.5*n*this.r+t," ").concat(e+.866*n*this.r,","),a+="".concat((1.5*n+.5)*this.r+t," ").concat(e+.866*(n+1)*this.r,",");return a+="".concat((1.5*this.size-.5)*this.r+t," ").concat(e+.866*this.size*this.r),a},linePointsBlue2:function(){for(var e=this.totalWidth-24,t=this.totalHeight/2,a="",n=0;n<this.size;n++)a+="".concat(e-1.5*n*this.r," ").concat(t-.866*n*this.r,","),a+="".concat(e-(1.5*n+.5)*this.r," ").concat(t-.866*(n+1)*this.r,",");return a+="".concat(e-(1.5*this.size-.5)*this.r," ").concat(t-.866*this.size*this.r),a}}}),ye=be,we=(a("52ac"),Object(c["a"])(ye,fe,ge,!1,null,"a4496bca",null)),ke=we.exports,xe={name:"HexPlay",components:{HexBoard:ke},data:function(){return{anotherPlayer:"",ready1:!1,ready2:!1,username:w.get("username"),sock:{},enabled:!1,role:1,showSnackbar:!1,snackbarText:"",started:!1,roomId:0,gameOverMessage:"",enabledExit:!0,enabledSurrender:!1,enabledReady:!0}},methods:{onPlay:function(e,t){this.enabled&&this.sock&&(this.sock.send(JSON.stringify({command:"play",play:{x:e,y:t,role:this.role}})),this.enabled=!1)},onExit:function(){this.sock&&this.sock.close(),this.$router.replace("/")},onSurrender:function(){this.sock&&this.sock.send(JSON.stringify({command:"surrender",role:this.role})),this.gameOverMessage="lose",this.gameOverCleanUp()},displaySnackbar:function(e){var t=this;this.snackbarText=e,this.showSnackbar=!0,setTimeout((function(){t.showSnackbar=!1}),3e3)},ready:function(){this.ready1=!0,this.sock&&this.sock.send(JSON.stringify({command:"ready",value:!0})),this.enabledReady=!1},gameOverCleanUp:function(){this.enabled=!1,this.enabledExit=!0,this.enabledReady=!0,this.enabledSurrender=!1,this.ready1=!1,this.ready2=!1}},computed:{style1:function(){return{color:1===this.role?"red":"blue"}},style2:function(){return{color:1===this.role?"blue":"red"}}},created:function(){var e=this;this.sock=w.get("sock"),this.sock&&(this.roomId=w.get("roomId"),this.sock.onmessage=function(t){var a=JSON.parse(t.data);if(window.console.log(t),"update"===a.command){e.anotherPlayer="";for(var n=0;n<a.data.length;n++){var o=a.data[n];o.name!==e.username&&(e.anotherPlayer=o.name,e.ready2=o.status)}}else if("start"===a.command)e.started=!0,e.displaySnackbar("游戏开始"),e.role=a.role,e.enabledExit=!1,e.enabledSurrender=!0,e.gameOverMessage="",e.$refs["board"].clear();else if("your_turn"===a.command)e.enabled=!0;else if("play"===a.command){var r=a.play.x,s=a.play.y,i=a.play.role;e.$refs["board"].setGrid(r,s,i)}else"over"===a.command&&(a.role===e.role?e.gameOverMessage="win":e.gameOverMessage="lose",e.gameOverCleanUp())})}},_e=xe,Pe=(a("a3bf"),a("a523")),Se=Object(c["a"])(_e,ve,me,!1,null,"2ad9e9d1",null),Ue=Se.exports;d()(Se,{VBtn:P["a"],VContainer:Pe["a"],VContent:O["a"],VIcon:$["a"],VRow:j["a"],VSnackbar:J["a"]}),n["a"].use(v["a"]);var Ce=[{path:"/",component:T},{path:"/login-or-sign-up",component:F,name:"los"},{path:"/intro/:type",component:oe},{path:"/starting-game",component:pe,name:"starting"},{path:"/play/hex",component:Ue}],Oe=new v["a"]({routes:Ce}),Ve=Oe,$e=a("f309");n["a"].use($e["a"]);var je=new $e["a"]({});n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(p)},vuetify:je,router:Ve}).$mount("#app")},a3bf:function(e,t,a){"use strict";var n=a("d2c5"),o=a.n(n);o.a},d2c5:function(e,t,a){}});
//# sourceMappingURL=app.47104cab.js.map